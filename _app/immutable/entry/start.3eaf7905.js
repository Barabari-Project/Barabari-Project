var ut=Object.defineProperty,dt=Object.defineProperties;var pt=Object.getOwnPropertyDescriptors;var he=Object.getOwnPropertySymbols;var Je=Object.prototype.hasOwnProperty,Ke=Object.prototype.propertyIsEnumerable;var Ge=(e,a,i)=>a in e?ut(e,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[a]=i,H=(e,a)=>{for(var i in a||(a={}))Je.call(a,i)&&Ge(e,i,a[i]);if(he)for(var i of he(a))Ke.call(a,i)&&Ge(e,i,a[i]);return e},B=(e,a)=>dt(e,pt(a));var ze=(e,a)=>{var i={};for(var s in e)Je.call(e,s)&&a.indexOf(s)<0&&(i[s]=e[s]);if(e!=null&&he)for(var s of he(e))a.indexOf(s)<0&&Ke.call(e,s)&&(i[s]=e[s]);return i};var $=(e,a,i)=>new Promise((s,u)=>{var p=h=>{try{f(i.next(h))}catch(m){u(m)}},v=h=>{try{f(i.throw(h))}catch(m){u(m)}},f=h=>h.done?s(h.value):Promise.resolve(h.value).then(p,v);f((i=i.apply(e,a)).next())});import{O as Be,T as Se}from"../chunks/index.77aeed67.js";import{S as at,a as rt,I as M,g as Ye,f as We,b as ke,c as ge,s as G,i as Re,d as re,e as Y,P as Xe,h as ht}from"../chunks/singletons.cdb0d08d.js";function gt(e,a){return e==="/"||a==="ignore"?e:a==="never"?e.endsWith("/")?e.slice(0,-1):e:a==="always"&&!e.endsWith("/")?e+"/":e}function mt(e){return e.split("%25").map(decodeURI).join("%25")}function yt(e){for(const a in e)e[a]=decodeURIComponent(e[a]);return e}const wt=["href","pathname","search","searchParams","toString","toJSON"];function _t(e,a){const i=new URL(e);for(const s of wt){let u=i[s];Object.defineProperty(i,s,{get(){return a(),u},enumerable:!0,configurable:!0})}return bt(i),i}function bt(e){Object.defineProperty(e,"hash",{get(){throw new Error("Cannot access event.url.hash. Consider using `$page.url.hash` inside a component instead")}})}const vt="/__data.json";function Et(e){return e.replace(/\/$/,"")+vt}function ot(e){try{return JSON.parse(sessionStorage[e])}catch(a){}}function Ze(e,a){const i=JSON.stringify(a);try{sessionStorage[e]=i}catch(s){}}function St(...e){let a=5381;for(const i of e)if(typeof i=="string"){let s=i.length;for(;s;)a=a*33^i.charCodeAt(--s)}else if(ArrayBuffer.isView(i)){const s=new Uint8Array(i.buffer,i.byteOffset,i.byteLength);let u=s.length;for(;u;)a=a*33^s[--u]}else throw new TypeError("value must be a string or TypedArray");return(a>>>0).toString(36)}const me=window.fetch;window.fetch=(e,a)=>((e instanceof Request?e.method:(a==null?void 0:a.method)||"GET")!=="GET"&&ie.delete(Pe(e)),me(e,a));const ie=new Map;function kt(e,a){const i=Pe(e,a),s=document.querySelector(i);if(s!=null&&s.textContent){const u=JSON.parse(s.textContent),{body:p}=u,v=ze(u,["body"]),f=s.getAttribute("data-ttl");return f&&ie.set(i,{body:p,init:v,ttl:1e3*Number(f)}),Promise.resolve(new Response(p,v))}return me(e,a)}function Rt(e,a,i){if(ie.size>0){const s=Pe(e,i),u=ie.get(s);if(u){if(performance.now()<u.ttl&&["default","force-cache","only-if-cached",void 0].includes(i==null?void 0:i.cache))return new Response(u.body,u.init);ie.delete(s)}}return me(a,i)}function Pe(e,a){let s=`script[data-sveltekit-fetched][data-url=${JSON.stringify(e instanceof Request?e.url:e)}]`;if(a!=null&&a.headers||a!=null&&a.body){const u=[];a.headers&&u.push([...new Headers(a.headers)].join(",")),a.body&&(typeof a.body=="string"||ArrayBuffer.isView(a.body))&&u.push(a.body),s+=`[data-hash="${St(...u)}"]`}return s}const It=/^(\[)?(\.\.\.)?(\w+)(?:=(\w+))?(\])?$/;function Lt(e){const a=[];return{pattern:e==="/"?/^\/$/:new RegExp(`^${Pt(e).map(s=>{const u=/^\[\.\.\.(\w+)(?:=(\w+))?\]$/.exec(s);if(u)return a.push({name:u[1],matcher:u[2],optional:!1,rest:!0,chained:!0}),"(?:/(.*))?";const p=/^\[\[(\w+)(?:=(\w+))?\]\]$/.exec(s);if(p)return a.push({name:p[1],matcher:p[2],optional:!0,rest:!1,chained:!0}),"(?:/([^/]+))?";if(!s)return;const v=s.split(/\[(.+?)\](?!\])/);return"/"+v.map((h,m)=>{if(m%2){if(h.startsWith("x+"))return Ie(String.fromCharCode(parseInt(h.slice(2),16)));if(h.startsWith("u+"))return Ie(String.fromCharCode(...h.slice(2).split("-").map(U=>parseInt(U,16))));const g=It.exec(h);if(!g)throw new Error(`Invalid param: ${h}. Params and matcher names can only have underscores and alphanumeric characters.`);const[,D,x,k,T]=g;return a.push({name:k,matcher:T,optional:!!D,rest:!!x,chained:x?m===1&&v[0]==="":!1}),x?"(.*?)":D?"([^/]*)?":"([^/]+?)"}return Ie(h)}).join("")}).join("")}/?$`),params:a}}function At(e){return!/^\([^)]+\)$/.test(e)}function Pt(e){return e.slice(1).split("/").filter(At)}function $t(e,a,i){const s={},u=e.slice(1);let p=0;for(let v=0;v<a.length;v+=1){const f=a[v],h=u[v-p];if(f.chained&&f.rest&&p){s[f.name]=u.slice(v-p,v+1).filter(m=>m).join("/"),p=0;continue}if(h===void 0){f.rest&&(s[f.name]="");continue}if(!f.matcher||i[f.matcher](h)){s[f.name]=h;const m=a[v+1],g=u[v+1];m&&!m.rest&&m.optional&&g&&(p=0);continue}if(f.optional&&f.chained){p++;continue}return}if(!p)return s}function Ie(e){return e.normalize().replace(/[[\]]/g,"\\$&").replace(/%/g,"%25").replace(/\//g,"%2[Ff]").replace(/\?/g,"%3[Ff]").replace(/#/g,"%23").replace(/[.*+?^${}()|\\]/g,"\\$&")}function Ot({nodes:e,server_loads:a,dictionary:i,matchers:s}){const u=new Set(a);return Object.entries(i).map(([f,[h,m,g]])=>{const{pattern:D,params:x}=Lt(f),k={id:f,exec:T=>{const U=D.exec(T);if(U)return $t(U,x,s)},errors:[1,...g||[]].map(T=>e[T]),layouts:[0,...m||[]].map(v),leaf:p(h)};return k.errors.length=k.layouts.length=Math.max(k.errors.length,k.layouts.length),k});function p(f){const h=f<0;return h&&(f=~f),[h,e[f]]}function v(f){return f===void 0?f:[u.has(f),e[f]]}}let oe=class{constructor(a,i){this.status=a,typeof i=="string"?this.body={message:i}:i?this.body=i:this.body={message:`Error: ${a}`}}toString(){return JSON.stringify(this.body)}},Qe=class{constructor(a,i){this.status=a,this.location=i}};function Ut(e){return $(this,null,function*(){var a;for(const i in e)if(typeof((a=e[i])==null?void 0:a.then)=="function")return Object.fromEntries(yield Promise.all(Object.entries(e).map(p=>$(this,[p],function*([s,u]){return[s,yield u]}))));return e})}const xt=-1,Tt=-2,jt=-3,Nt=-4,Dt=-5,Ct=-6;function qt(e,a){if(typeof e=="number")return u(e,!0);if(!Array.isArray(e)||e.length===0)throw new Error("Invalid input");const i=e,s=Array(i.length);function u(p,v=!1){if(p===xt)return;if(p===jt)return NaN;if(p===Nt)return 1/0;if(p===Dt)return-1/0;if(p===Ct)return-0;if(v)throw new Error("Invalid input");if(p in s)return s[p];const f=i[p];if(!f||typeof f!="object")s[p]=f;else if(Array.isArray(f))if(typeof f[0]=="string"){const h=f[0],m=a==null?void 0:a[h];if(m)return s[p]=m(u(f[1]));switch(h){case"Date":s[p]=new Date(f[1]);break;case"Set":const g=new Set;s[p]=g;for(let k=1;k<f.length;k+=1)g.add(u(f[k]));break;case"Map":const D=new Map;s[p]=D;for(let k=1;k<f.length;k+=2)D.set(u(f[k]),u(f[k+1]));break;case"RegExp":s[p]=new RegExp(f[1],f[2]);break;case"Object":s[p]=Object(f[1]);break;case"BigInt":s[p]=BigInt(f[1]);break;case"null":const x=Object.create(null);s[p]=x;for(let k=1;k<f.length;k+=2)x[f[k]]=u(f[k+1]);break;default:throw new Error(`Unknown type ${h}`)}}else{const h=new Array(f.length);s[p]=h;for(let m=0;m<f.length;m+=1){const g=f[m];g!==Tt&&(h[m]=u(g))}}else{const h={};s[p]=h;for(const m in f){const g=f[m];h[m]=u(g)}}return s[p]}return u(0)}function $e(e){const a=new Set(e);function i(s,u){var p;if(s)for(const v in s){if(v[0]==="_"||a.has(v))continue;const f=(p=Ft(v,u==null?void 0:u.slice(u.lastIndexOf("."))))!=null?p:`valid exports are ${e.join(", ")}, or anything with a '_' prefix`;throw new Error(`Invalid export '${v}'${u?` in ${u}`:""} (${f})`)}}return i}function Ft(e,a=".js"){let i=[];if(it.includes(e)&&i.push(`+page${a}`),st.includes(e)&&i.push(`+page.server${a}`),ct.includes(e)&&i.push(`+server${a}`),i.length>0)return`'${e}' is a valid export in ${i.join(" or ")}`}const it=["load","prerender","csr","ssr","trailingSlash","config"],st=["load","prerender","csr","ssr","actions","trailingSlash","config"],ct=["GET","POST","PATCH","PUT","DELETE","OPTIONS","prerender","trailingSlash","config"];$e(it);$e(st);$e(ct);function Ht(e){return e.filter(a=>a!=null)}var tt;const W=(tt=ot(at))!=null?tt:{};var nt;const ae=(nt=ot(rt))!=null?nt:{};function Le(e){W[e]=re()}function Mt(e,a){var He;const i=Ot(e),s=e.nodes[0],u=e.nodes[1];s(),u();const p=document.documentElement,v=[],f=[];let h=null;const m={before_navigate:[],after_navigate:[]};let g={branch:[],error:null,url:null},D=!1,x=!1,k=!0,T=!1,U=!1,X=!1,J=!1,V,j=(He=history.state)==null?void 0:He[M];j||(j=Date.now(),history.replaceState(B(H({},history.state),{[M]:j}),"",location.href));const ye=W[j];ye&&(history.scrollRestoration="manual",scrollTo(ye.x,ye.y));let K,se,ce;function Oe(){return $(this,null,function*(){ce=ce||Promise.resolve(),yield ce,ce=null;const t=new URL(location.href),n=ee(t,!0);h=null;const o=se={},r=n&&(yield be(n));if(o===se&&r){if(r.type==="redirect")return le(new URL(r.location,t).href,{},[t.pathname],o);V.$set(r.props)}})}function Ue(t){f.some(n=>n==null?void 0:n.snapshot)&&(ae[t]=f.map(n=>{var o;return(o=n==null?void 0:n.snapshot)==null?void 0:o.capture()}))}function xe(t){var n;(n=ae[t])==null||n.forEach((o,r)=>{var l,c;(c=(l=f[r])==null?void 0:l.snapshot)==null||c.restore(o)})}function Te(){Le(j),Ze(at,W),Ue(j),Ze(rt,ae)}function le(E,_,R,w){return $(this,arguments,function*(t,{noScroll:n=!1,replaceState:o=!1,keepFocus:r=!1,state:l={},invalidateAll:c=!1},y,b){return typeof t=="string"&&(t=new URL(t,Ye(document))),pe({url:t,scroll:n?re():null,keepfocus:r,redirect_chain:y,details:{state:l,replaceState:o},nav_token:b,accepted:()=>{c&&(J=!0)},blocked:()=>{},type:"goto"})})}function je(t){return $(this,null,function*(){return h={id:t.id,promise:be(t).then(n=>(n.type==="loaded"&&n.state.error&&(h=null),n))},h.promise})}function fe(...t){return $(this,null,function*(){const o=i.filter(r=>t.some(l=>r.exec(l))).map(r=>Promise.all([...r.layouts,r.leaf].map(l=>l==null?void 0:l[1]())));yield Promise.all(o)})}function Ne(t){var r,l;g=t.state;const n=document.querySelector("style[data-sveltekit]");n&&n.remove(),K=t.props.page,V=new e.root({target:a,props:B(H({},t.props),{stores:G,components:f}),hydrate:!0}),xe(j);const o={from:null,to:{params:g.params,route:{id:(l=(r=g.route)==null?void 0:r.id)!=null?l:null},url:new URL(location.href)},willUnload:!1,type:"enter"};m.after_navigate.forEach(c=>c(o)),x=!0}function Q(b){return $(this,arguments,function*({url:t,params:n,branch:o,status:r,error:l,route:c,form:y}){var S;let E="never";for(const P of o)(P==null?void 0:P.slash)!==void 0&&(E=P.slash);t.pathname=gt(t.pathname,E),t.search=t.search;const _={type:"loaded",state:{url:t,params:n,branch:o,error:l,route:c},props:{constructors:Ht(o).map(P=>P.node.component)}};y!==void 0&&(_.props.form=y);let R={},w=!K,A=0;for(let P=0;P<Math.max(o.length,g.branch.length);P+=1){const N=o[P],q=g.branch[P];(N==null?void 0:N.data)!==(q==null?void 0:q.data)&&(w=!0),N&&(R=H(H({},R),N.data),w&&(_.props[`data_${A}`]=R),A+=1)}return(!g.url||t.href!==g.url.href||g.error!==l||y!==void 0&&y!==K.form||w)&&(_.props.page={error:l,params:n,route:{id:(S=c==null?void 0:c.id)!=null?S:null},status:r,url:new URL(t),form:y!=null?y:null,data:w?R:K.data}),_})}function we(y){return $(this,arguments,function*({loader:t,parent:n,url:o,params:r,route:l,server_data_node:c}){var R,w,A,C,S,P,N;let b=null;const E={dependencies:new Set,params:new Set,parent:!1,route:!1,url:!1},_=yield t();if((R=_.universal)!=null&&R.load){let q=function(...d){for(const I of d){const{href:L}=new URL(I,o);E.dependencies.add(L)}},ne;const F={route:{get id(){return E.route=!0,l.id}},params:new Proxy(r,{get:(d,I)=>(E.params.add(I),d[I])}),data:(w=c==null?void 0:c.data)!=null?w:null,url:_t(o,()=>{E.url=!0}),fetch(d,I){return $(this,null,function*(){let L;d instanceof Request?(L=d.url,I=H({body:d.method==="GET"||d.method==="HEAD"?void 0:yield d.blob(),cache:d.cache,credentials:d.credentials,headers:d.headers,integrity:d.integrity,keepalive:d.keepalive,method:d.method,mode:d.mode,redirect:d.redirect,referrer:d.referrer,referrerPolicy:d.referrerPolicy,signal:d.signal},I)):L=d;const O=new URL(L,o);return q(O.href),O.origin===o.origin&&(L=O.href.slice(o.origin.length)),x?Rt(L,O.href,I):kt(L,I)})},setHeaders:()=>{},depends:q,parent(){return E.parent=!0,n()}};b=(A=yield _.universal.load.call(null,F))!=null?A:null,b=b?yield Ut(b):null}return{node:_,loader:t,server:c,universal:(C=_.universal)!=null&&C.load?{type:"data",data:b,uses:E}:null,data:(S=b!=null?b:c==null?void 0:c.data)!=null?S:null,slash:(N=(P=_.universal)==null?void 0:P.trailingSlash)!=null?N:c==null?void 0:c.slash}})}function De(t,n,o,r,l){if(J)return!0;if(!r)return!1;if(r.parent&&t||r.route&&n||r.url&&o)return!0;for(const c of r.params)if(l[c]!==g.params[c])return!0;for(const c of r.dependencies)if(v.some(y=>y(new URL(c))))return!0;return!1}function _e(t,n){return(t==null?void 0:t.type)==="data"?t:(t==null?void 0:t.type)==="skip"&&n!=null?n:null}function be(c){return $(this,arguments,function*({id:t,invalidating:n,url:o,params:r,route:l}){var ne;if((h==null?void 0:h.id)===t)return h.promise;const{errors:y,layouts:b,leaf:E}=l,_=[...b,E];y.forEach(d=>d==null?void 0:d().catch(()=>{})),_.forEach(d=>d==null?void 0:d[1]().catch(()=>{}));let R=null;const w=g.url?t!==g.url.pathname+g.url.search:!1,A=g.route?l.id!==g.route.id:!1;let C=!1;const S=_.map((d,I)=>{var z;const L=g.branch[I],O=!!(d!=null&&d[0])&&((L==null?void 0:L.loader)!==d[1]||De(C,A,w,(z=L.server)==null?void 0:z.uses,r));return O&&(C=!0),O});if(S.some(Boolean)){try{R=yield et(o,S)}catch(d){return ue({status:d instanceof oe?d.status:500,error:yield te(d,{url:o,params:r,route:{id:l.id}}),url:o,route:l})}if(R.type==="redirect")return R}const P=R==null?void 0:R.nodes;let N=!1;const q=_.map((d,I)=>$(this,null,function*(){var ve;if(!d)return;const L=g.branch[I],O=P==null?void 0:P[I];if((!O||O.type==="skip")&&d[1]===(L==null?void 0:L.loader)&&!De(N,A,w,(ve=L.universal)==null?void 0:ve.uses,r))return L;if(N=!0,(O==null?void 0:O.type)==="error")throw O;return we({loader:d[1],url:o,params:r,route:l,parent:()=>$(this,null,function*(){var Ve;const Me={};for(let Ee=0;Ee<I;Ee+=1)Object.assign(Me,(Ve=yield q[Ee])==null?void 0:Ve.data);return Me}),server_data_node:_e(O===void 0&&d[0]?{type:"skip"}:O!=null?O:null,d[0]?L==null?void 0:L.server:void 0)})}));for(const d of q)d.catch(()=>{});const F=[];for(let d=0;d<_.length;d+=1)if(_[d])try{F.push(yield q[d])}catch(I){if(I instanceof Qe)return{type:"redirect",location:I.location};let L=500,O;if(P!=null&&P.includes(I))L=(ne=I.status)!=null?ne:L,O=I.error;else if(I instanceof oe)L=I.status,O=I.body;else{if(yield G.updated.check())return yield Z(o);O=yield te(I,{params:r,url:o,route:{id:l.id}})}const z=yield Ce(d,F,y);return z?yield Q({url:o,params:r,branch:F.slice(0,z.idx).concat(z.node),status:L,error:O,route:l}):yield Fe(o,{id:l.id},O,L)}else F.push(void 0);return yield Q({url:o,params:r,branch:F,status:200,error:null,route:l,form:n?void 0:null})})}function Ce(t,n,o){return $(this,null,function*(){for(;t--;)if(o[t]){let r=t;for(;!n[r];)r-=1;try{return{idx:r+1,node:{node:yield o[t](),loader:o[t],data:{},server:null,universal:null}}}catch(l){continue}}})}function ue(l){return $(this,arguments,function*({status:t,error:n,url:o,route:r}){var R;const c={};let y=null;if(e.server_loads[0]===0)try{const w=yield et(o,[!0]);if(w.type!=="data"||w.nodes[0]&&w.nodes[0].type!=="data")throw 0;y=(R=w.nodes[0])!=null?R:null}catch(w){(o.origin!==location.origin||o.pathname!==location.pathname||D)&&(yield Z(o))}const E=yield we({loader:s,url:o,params:c,route:r,parent:()=>Promise.resolve({}),server_data_node:_e(y)}),_={node:yield u(),loader:u,universal:null,server:null,data:null};return yield Q({url:o,params:c,branch:[E,_],status:t,error:n,route:null})})}function ee(t,n){if(Re(t,Y))return;const o=de(t);for(const r of i){const l=r.exec(o);if(l)return{id:t.pathname+t.search,invalidating:n,route:r,params:yt(l),url:t}}}function de(t){return mt(t.pathname.slice(Y.length)||"/")}function qe({url:t,type:n,intent:o,delta:r}){var b,E,_,R,w;let l=!1;const c={from:{params:g.params,route:{id:(E=(b=g.route)==null?void 0:b.id)!=null?E:null},url:g.url},to:{params:(_=o==null?void 0:o.params)!=null?_:null,route:{id:(w=(R=o==null?void 0:o.route)==null?void 0:R.id)!=null?w:null},url:t},willUnload:!o,type:n};r!==void 0&&(c.delta=r);const y=B(H({},c),{cancel:()=>{l=!0}});return U||m.before_navigate.forEach(A=>A(y)),l?null:c}function pe(R){return $(this,arguments,function*({url:t,scroll:n,keepfocus:o,redirect_chain:r,details:l,type:c,delta:y,nav_token:b={},accepted:E,blocked:_}){var q,F,ne;const w=ee(t,!1),A=qe({url:t,type:c,delta:y,intent:w});if(!A){_();return}const C=j;E(),U=!0,x&&G.navigating.set(A),se=b;let S=w&&(yield be(w));if(!S){if(Re(t,Y))return yield Z(t);S=yield Fe(t,{id:null},yield te(new Error(`Not found: ${t.pathname}`),{url:t,params:{},route:{id:null}}),404)}if(t=(w==null?void 0:w.url)||t,se!==b)return!1;if(S.type==="redirect")if(r.length>10||r.includes(t.pathname))S=yield ue({status:500,error:yield te(new Error("Redirect loop"),{url:t,params:{},route:{id:null}}),url:t,route:{id:null}});else return le(new URL(S.location,t).href,{},[...r,t.pathname],b),!1;else((q=S.props.page)==null?void 0:q.status)>=400&&(yield G.updated.check())&&(yield Z(t));if(v.length=0,J=!1,T=!0,Le(C),Ue(C),(F=S.props.page)!=null&&F.url&&S.props.page.url.pathname!==t.pathname&&(t.pathname=(ne=S.props.page)==null?void 0:ne.url.pathname),l){const d=l.replaceState?0:1;if(l.state[M]=j+=d,history[l.replaceState?"replaceState":"pushState"](l.state,"",t),!l.replaceState){let I=j+1;for(;ae[I]||W[I];)delete ae[I],delete W[I],I+=1}}h=null,x?(g=S.state,S.props.page&&(S.props.page.url=t),V.$set(S.props)):Ne(S);const{activeElement:P}=document;if(yield Se(),k){const d=t.hash&&document.getElementById(decodeURIComponent(t.hash.slice(1)));n?scrollTo(n.x,n.y):d?d.scrollIntoView():scrollTo(0,0)}const N=document.activeElement!==P&&document.activeElement!==document.body;!o&&!N&&(yield Ae()),k=!0,S.props.page&&(K=S.props.page),U=!1,m.after_navigate.forEach(d=>d(A)),G.navigating.set(null),T=!1})}function Fe(t,n,o,r){return $(this,null,function*(){return t.origin===location.origin&&t.pathname===location.pathname&&!D?yield ue({status:r,error:o,url:t,route:n}):yield Z(t)})}function Z(t){return location.href=t.href,new Promise(()=>{})}function ft(){let t;p.addEventListener("mousemove",c=>{const y=c.target;clearTimeout(t),t=setTimeout(()=>{r(y,2)},20)});function n(c){r(c.composedPath()[0],1)}p.addEventListener("mousedown",n),p.addEventListener("touchstart",n,{passive:!0});const o=new IntersectionObserver(c=>{for(const y of c)y.isIntersecting&&(fe(de(new URL(y.target.href))),o.unobserve(y.target))},{threshold:0});function r(c,y){const b=We(c,p);if(!b)return;const{url:E,external:_,download:R}=ke(b,Y);if(_||R)return;const w=ge(b);if(!w.reload)if(y<=w.preload_data){const A=ee(E,!1);A&&je(A)}else y<=w.preload_code&&fe(de(E))}function l(){o.disconnect();for(const c of p.querySelectorAll("a")){const{url:y,external:b,download:E}=ke(c,Y);if(b||E)continue;const _=ge(c);_.reload||(_.preload_code===Xe.viewport&&o.observe(c),_.preload_code===Xe.eager&&fe(de(y)))}}m.after_navigate.push(l),l()}function te(t,n){var o;return t instanceof oe?t.body:(o=e.hooks.handleError({error:t,event:n}))!=null?o:{message:n.route.id!=null?"Internal Error":"Not Found"}}return{after_navigate:t=>{Be(()=>(m.after_navigate.push(t),()=>{const n=m.after_navigate.indexOf(t);m.after_navigate.splice(n,1)}))},before_navigate:t=>{Be(()=>(m.before_navigate.push(t),()=>{const n=m.before_navigate.indexOf(t);m.before_navigate.splice(n,1)}))},disable_scroll_handling:()=>{(T||!x)&&(k=!1)},goto:(t,n={})=>le(t,n,[]),invalidate:t=>{if(typeof t=="function")v.push(t);else{const{href:n}=new URL(t,location.href);v.push(o=>o.href===n)}return Oe()},invalidateAll:()=>(J=!0,Oe()),preload_data:t=>$(this,null,function*(){const n=new URL(t,Ye(document)),o=ee(n,!1);if(!o)throw new Error(`Attempted to preload a URL that does not belong to this app: ${n}`);yield je(o)}),preload_code:fe,apply_action:t=>$(this,null,function*(){var n;if(t.type==="error"){const o=new URL(location.href),{branch:r,route:l}=g;if(!l)return;const c=yield Ce(g.branch.length,r,l.errors);if(c){const y=yield Q({url:o,params:g.params,branch:r.slice(0,c.idx).concat(c.node),status:(n=t.status)!=null?n:500,error:t.error,route:l});g=y.state,V.$set(y.props),Se().then(Ae)}}else t.type==="redirect"?le(t.location,{invalidateAll:!0},[]):(V.$set({form:null,page:B(H({},K),{form:t.data,status:t.status})}),yield Se(),V.$set({form:t.data}),t.type==="success"&&Ae())}),_start_router:()=>{var t;history.scrollRestoration="manual",addEventListener("beforeunload",n=>{var r,l;let o=!1;if(Te(),!U){const c={from:{params:g.params,route:{id:(l=(r=g.route)==null?void 0:r.id)!=null?l:null},url:g.url},to:null,willUnload:!0,type:"leave",cancel:()=>o=!0};m.before_navigate.forEach(y=>y(c))}o?(n.preventDefault(),n.returnValue=""):history.scrollRestoration="auto"}),addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&Te()}),(t=navigator.connection)!=null&&t.saveData||ft(),p.addEventListener("click",n=>{var w,A;if(n.button||n.which!==1||n.metaKey||n.ctrlKey||n.shiftKey||n.altKey||n.defaultPrevented)return;const o=We(n.composedPath()[0],p);if(!o)return;const{url:r,external:l,target:c,download:y}=ke(o,Y);if(!r)return;if(c==="_parent"||c==="_top"){if(window.parent!==window)return}else if(c&&c!=="_self")return;const b=ge(o);if(!(o instanceof SVGAElement)&&r.protocol!==location.protocol&&!(r.protocol==="https:"||r.protocol==="http:")||y)return;if(l||b.reload){qe({url:r,type:"link"})?U=!0:n.preventDefault();return}const[_,R]=r.href.split("#");if(R!==void 0&&_===location.href.split("#")[0]){if(X=!0,Le(j),g.url=r,G.page.set(B(H({},K),{url:r})),G.page.notify(),!b.replace_state)return;X=!1,n.preventDefault()}pe({url:r,scroll:b.noscroll?re():null,keepfocus:(w=b.keep_focus)!=null?w:!1,redirect_chain:[],details:{state:{},replaceState:(A=b.replace_state)!=null?A:r.href===location.href},accepted:()=>n.preventDefault(),blocked:()=>n.preventDefault(),type:"link"})}),p.addEventListener("submit",n=>{var C;if(n.defaultPrevented)return;const o=HTMLFormElement.prototype.cloneNode.call(n.target),r=n.submitter;if(((r==null?void 0:r.formMethod)||o.method)!=="get")return;const c=new URL((r==null?void 0:r.hasAttribute("formaction"))&&(r==null?void 0:r.formAction)||o.action);if(Re(c,Y))return;const y=n.target,{keep_focus:b,noscroll:E,reload:_,replace_state:R}=ge(y);if(_)return;n.preventDefault(),n.stopPropagation();const w=new FormData(y),A=r==null?void 0:r.getAttribute("name");A&&w.append(A,(C=r==null?void 0:r.getAttribute("value"))!=null?C:""),c.search=new URLSearchParams(w).toString(),pe({url:c,scroll:E?re():null,keepfocus:b!=null?b:!1,redirect_chain:[],details:{state:{},replaceState:R!=null?R:c.href===location.href},nav_token:{},accepted:()=>{},blocked:()=>{},type:"form"})}),addEventListener("popstate",n=>$(this,null,function*(){var o;if((o=n.state)!=null&&o[M]){if(n.state[M]===j)return;const r=W[n.state[M]];if(g.url.href.split("#")[0]===location.href.split("#")[0]){W[j]=re(),j=n.state[M],scrollTo(r.x,r.y);return}const l=n.state[M]-j;let c=!1;yield pe({url:new URL(location.href),scroll:r,keepfocus:!1,redirect_chain:[],details:null,accepted:()=>{j=n.state[M]},blocked:()=>{history.go(-l),c=!0},type:"popstate",delta:l}),c||xe(j)}})),addEventListener("hashchange",()=>{X&&(X=!1,history.replaceState(B(H({},history.state),{[M]:++j}),"",location.href))});for(const n of document.querySelectorAll("link"))n.rel==="icon"&&(n.href=n.href);addEventListener("pageshow",n=>{n.persisted&&G.navigating.set(null)})},_hydrate:b=>$(this,[b],function*({status:t=200,error:n,node_ids:o,params:r,route:l,data:c,form:y}){var R;D=!0;const E=new URL(location.href);({params:r={},route:l={id:null}}=ee(E,!1)||{});let _;try{const w=o.map((A,C)=>$(this,null,function*(){const S=c[C];return S!=null&&S.uses&&(S.uses=lt(S.uses)),we({loader:e.nodes[A],url:E,params:r,route:l,parent:()=>$(this,null,function*(){const P={};for(let N=0;N<C;N+=1)Object.assign(P,(yield w[N]).data);return P}),server_data_node:_e(S)})}));_=yield Q({url:E,params:r,branch:yield Promise.all(w),status:t,error:n,form:y,route:(R=i.find(({id:A})=>A===l.id))!=null?R:null})}catch(w){if(w instanceof Qe){yield Z(new URL(w.location,location.href));return}_=yield ue({status:w instanceof oe?w.status:500,error:yield te(w,{url:E,params:r,route:l}),url:E,route:l})}Ne(_)})}}function et(e,a){return $(this,null,function*(){const i=new URL(e);i.pathname=Et(e.pathname),i.searchParams.append("x-sveltekit-invalidated",a.map(u=>u?"1":"").join("_"));const s=yield me(i.href);if(!s.ok)throw new oe(s.status,yield s.json());return new Promise(u=>$(this,null,function*(){var g;const p=new Map,v=s.body.getReader(),f=new TextDecoder;function h(D){return qt(D,{Promise:x=>new Promise((k,T)=>{p.set(x,{fulfil:k,reject:T})})})}let m="";for(;;){const{done:D,value:x}=yield v.read();if(D&&!m)break;for(m+=!x&&m?`
`:f.decode(x);;){const k=m.indexOf(`
`);if(k===-1)break;const T=JSON.parse(m.slice(0,k));if(m=m.slice(k+1),T.type==="redirect")return u(T);if(T.type==="data")(g=T.nodes)==null||g.forEach(U=>{(U==null?void 0:U.type)==="data"&&(U.uses=lt(U.uses),U.data=h(U.data))}),u(T);else if(T.type==="chunk"){const{id:U,data:X,error:J}=T,V=p.get(U);p.delete(U),J?V.reject(h(J)):V.fulfil(h(X))}}}}))})}function lt(e){var a,i;return{dependencies:new Set((a=e==null?void 0:e.dependencies)!=null?a:[]),params:new Set((i=e==null?void 0:e.params)!=null?i:[]),parent:!!(e!=null&&e.parent),route:!!(e!=null&&e.route),url:!!(e!=null&&e.url)}}function Ae(){const e=document.querySelector("[autofocus]");if(e)e.focus();else{const a=document.body,i=a.getAttribute("tabindex");return a.tabIndex=-1,a.focus({preventScroll:!0}),i!==null?a.setAttribute("tabindex",i):a.removeAttribute("tabindex"),new Promise(s=>{setTimeout(()=>{var u;s((u=getSelection())==null?void 0:u.removeAllRanges())})})}}function Bt(e,a,i){return $(this,null,function*(){const s=Mt(e,a);ht({client:s}),i?yield s._hydrate(i):s.goto(location.href,{replaceState:!0}),s._start_router()})}export{Bt as start};
